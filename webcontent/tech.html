<head>
    <link rel="stylesheet" href="style.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Round" rel="stylesheet">
    <link rel="stylesheet" href="icofont/icofont.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>
<body style="text-align: center;padding:16px;overflow-y:hidden">
    <div id="section_main">
        <div style="position: absolute;z-index:2;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);transition:all 0.5s ease-in-out;display:none;opacity:0" id="totalOverlay">
            <div class="container overlaybox" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;" data-purpose="status">
                <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px">Set Status</span>
                <span class="basetext" style="font-size:20px;color:white;display:block;margin:8px">Deselect a field to reset status.</span>
                <br/>
                <div style="width:90%;display:inline-block;margin-bottom:20px">
                    <div class="basebutton notif" style="width: 20%;margin:5px" data-notif="practice">
                        <span class="basetext" style="font-size:20px;pointer-events:none">At Practice Field</span>
                    </div>
                    <div class="basebutton notif" style="width: 20%;margin:5px" data-notif="match">
                        <span class="basetext" style="font-size:20px;pointer-events:none">At Match</span>
                    </div>
                    <div class="basebutton notif" style="width: 20%;margin:5px" data-notif="strategy">
                        <span class="basetext" style="font-size:20px;pointer-events:none">Doing Strategy</span>
                    </div>
                    <div class="basebutton notif" style="width: 20%;margin:5px" data-notif="lunch">
                        <span class="basetext" style="font-size:20px;pointer-events:none">At Lunch</span>
                    </div>
                    <div class="basebutton notif" style="width: 20%;margin:5px" data-notif="done">
                        <span class="basetext" style="font-size:20px;pointer-events:none">Done for Day</span>
                    </div>
                </div>
                <br/>
                <div class="basebutton exitoverlay" style="width: 20%;margin:5px">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Exit</span>
                </div>
            </div>
            <div class="container overlaybox" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;" data-purpose="aboutDialog">
                <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px">About</span>
                <div style="display:inline-block;width:75%;border:4px solid black;border-radius:8px;background-color:#2a2a2a;margin-bottom:20px">
                    <p class="basetext" style="font-size:16px">Version <span id="versionText">asdf</span></p>
                    <p class="basetext" style="font-size:16px">Created by David Reeves<br/>Maintained and Updated by Kyle Rush</p>
                </div>
                <div class="basebutton exitoverlay" style="width: 20%;margin:5px">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Exit</span>
                </div>
                <br/>
            </div>
            <div class="container overlaybox" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;" data-purpose="restartConfirmation">
                <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px">Are you sure you want to restart the application?</span>
                <div class="basebutton" style="width: 20%;margin:5px;background:#a12222" id="confirmRestart">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Restart</span>
                </div>
                <div class="basebutton exitoverlay" style="width: 20%;margin:5px">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Cancel</span>
                </div>
                <br/>
            </div>
            <div class="container overlaybox" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;" data-purpose="gitOutputOverlay">
                <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px">Update</span>
                <div style="display:inline-block;width:75%;text-align:left;border:4px solid black;border-radius:8px;background-color:#2a2a2a;padding:0px 20px;margin-bottom:20px">
                    <p class="basetext" style="font-size:16px" id="gitOutputText"></p>
                </div>
                <div class="basebutton exitoverlay" style="width: 20%;margin:5px">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Exit</span>
                </div>
                <div class="basebutton secSettings" style="width: 30%;margin:5px;padding: 15px 0px;" setting="restart">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Restart App</span>
                </div>
                <br/>
            </div>
            <!-- <div class="container overlaybox" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;" data-purpose="scheduleSettings">
                <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px">Schedule View Settings</span>
                <div class="basebutton exitoverlay" style="width: 20%;margin:5px">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Exit</span>
                </div>
                <br/>
            </div> -->
            <div class="container overlaybox" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;" data-purpose="settingsPassword">
                <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px">Enter Password</span>
                <div style="width:90%;display:inline-block;margin-bottom:20px">
                    <div class="basebutton settingPassword" data-password="0">
                        <img class="settingPasswordImage" src="images/password/joe.png" alt="Joe" width="120" height="120"/>
                    </div>
                    <div class="basebutton settingPassword" data-password="1">
                        <img class="settingPasswordImage" src="images/password/fritz.png" alt="Fritz" width="120" height="120"/>
                    </div>
                    <div class="basebutton settingPassword" data-password="2">
                        <img class="settingPasswordImage" src="images/password/mike.png" alt="Mike" width="120" height="120"/>
                    </div>
                    <br/>
                    <div class="basebutton settingPassword" data-password="3">
                        <img class="settingPasswordImage" src="images/password/dav.png" alt="David" width="120" height="120"/>
                    </div>
                    <div class="basebutton settingPassword" data-password="4">
                        <img class="settingPasswordImage" src="images/password/john2.jpg" alt="John" width="120" height="120"/>
                    </div>
                    <div class="basebutton settingPassword" data-password="5">
                        <img class="settingPasswordImage" src="images/password/jusnoor.png" alt="Jusnoor" width="120" height="120"/>
                    </div>
                    <br/>
                    <div class="basebutton settingPassword" data-password="6">
                        <img class="settingPasswordImage" src="images/password/sinclair.png" alt="Sinclair" width="120" height="120"/>
                    </div>
                    <div class="basebutton settingPassword" data-password="7">
                        <img class="settingPasswordImage" src="images/password/dowling.png" alt="Dowling" width="120" height="120"/>
                    </div>
                    <div class="basebutton settingPassword" data-password="8">
                        <img class="settingPasswordImage" src="images/password/weesh.png" alt="Weesh" width="120" height="120"/>
                    </div>
                </div>
                <br/>
                <div class="basebutton" style="width:25%;margin:5px;background:#199e69" id="settingsPasswordSubmit">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Submit</span>
                </div>
                <br/>
                <div class="basebutton exitoverlay" style="width:25%;margin:5px">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Exit</span>
                </div>
            </div>
            <div class="container overlaybox" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;" data-purpose="techSettings">
                <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px">Toggles</span>
                <div style="width:90%;display:inline-block;margin-bottom:20px;border:3px solid #2779a8;border-radius:16px">
                    <!-- TODO: add icon inside button -->
                    <table class="baseTablehead">
                        <tr>
                            <th class="baseTable notopborder" style="width:60%;font-size:24px">Switch Display</th>
                            <td class="baseTable notopborder norightborder" style="margin:0">
                                <div class="basebutton extrasettings" style="height:20px;width:150px;background:#199e69" setting="allowDisplay" bypassFlip="true" />
                            </td>
                        </tr>
                        <tr>
                            <th class="baseTable" style="width:60%;font-size:24px">Stream Toggle</th>
                            <td class="baseTable norightborder" style="margin:0">
                                <div class="basebutton extrasettings" style="height:20px;width:150px;background:#199e69" setting="allowStream" bypassFlip="true" />
                            </td>
                        </tr>
                        <tr>
                            <th class="baseTable" style="font-size:24px">Locks</th>
                            <td class="baseTable norightborder">
                                <div class="basebutton extrasettings" style="height:20px;width:150px;background:#199e69" setting="locks"/>
                            </td>
                        </tr>
                        <tr> 
                            <th class="baseTable" style="font-size:24px">DVD Lock</th>
                            <td class="baseTable norightborder">
                                <div class="basebutton extrasettings" style="height:20px;width:150px;background:#199e69" setting="dvd"/>
                            </td>
                        </tr>
                        <!-- <tr>
                            <th class="baseTable" style="font-size:24px">Match Select</th>
                            <td class="baseTable norightborder">
                                <div class="basebutton extrasettings" style="height:20px;width:150px;background:#199e69" setting="allowMatchSelect"/>
                            </td>
                        </tr> -->
                        <tr> 
                            <th class="baseTable" style="font-size:24px">Status Button</th>
                            <td class="baseTable norightborder">
                                <div class="basebutton extrasettings" style="height:20px;width:150px;background:#a12222" setting="allowChangeStatus"/>
                            </td>
                        </tr>
                        <tr> 
                            <th class="baseTable" style="font-size:24px">Beta Rankings</th>
                            <td class="baseTable norightborder">
                                <div class="basebutton extrasettings" style="height:20px;width:150px;background:#a12222" setting="betaRankings"/>
                            </td>
                        </tr>
                        <!-- <tr>
                            <th class="baseTable" style="font-size:24px">Show Images</th>
                            <td class="baseTable norightborder">
                                <div class="basebutton extrasettings" style="height:20px;width:150px;background:#199e69" setting="allowImages"/>
                            </td>
                        </tr>
                        <tr>
                            <th class="baseTable" style="font-size:24px">Stream Overlay</th>
                            <td class="baseTable norightborder">
                                <div class="basebutton extrasettings" style="height:20px;width:150px;background:#199e69" setting="allowStreamOverlay"/>
                            </td>
                        </tr> -->
                    </table>
                </div>

                <br/>
                <br/>
                <div class="basebutton exitoverlay" style="width: 20%;margin:5px">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Exit</span>
                </div>
                <br/>
            </div>
            <div class="container overlaybox" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;" data-purpose="shiftDayOverlay">
                <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px">Change Shift Set</span>
                <div class="basebutton shiftChangeButton" style="width: 50%;margin:5px" data-id="0">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Shift 0</span>
                </div>
                <br/>
                <div class="basebutton shiftChangeButton" style="width: 50%;margin:5px" data-id="1">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Shift 1</span>
                </div>
                <br/>
                <div class="basebutton shiftChangeButton" style="width: 50%;margin:5px" data-id="2">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Shift 2</span>
                </div>
                <br/>
                <div class="basebutton shiftChangeButton" style="width: 50%;margin:5px" data-id="3">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Shift 3</span>
                </div>
                <br/>
                <!-- TODO: add usb button inline to show another overlay -->
                <div class="basebutton exitoverlay" style="width: 20%;margin:5px;margin-top:10px">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Save</span>
                </div>
                <br/>
            </div>
            <!-- TODO: revamp this a bit -->
            <div class="container overlaybox" style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;text-align:center;" data-purpose="config">
                <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px">Set Configuration</span>
                <br/>
                <br/>
                <div style="display:inline-flex">
                    <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px;display:inline-flex">Event Code</span>
                    <input type="text" placeholder="Event Code" id="setEventCode" class="textbox basetext" style="display:inline-flex"/>
                </div>
                <div style="display:inline-flex">
                    <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px;display:inline-flex">IP Address</span>
                    <input type="text" placeholder="IP Address" id="ipAddress" class="textbox basetext" style="display:inline-flex" disabled/>
                </div>
                <div style="display:inline-flex">
                    <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px;display:inline-flex">Match Type</span>
                    <select class="textbox basetext" id="matchType" style="display:inline-flex">
                        <option value="Qualification">Qualification</option>
                        <option value="Playoff">Elimination</option>
                    </select>
                </div>
                <div style="display:inline-flex">
                    <span class="basetext" style="font-size:40px;color:white;display:block;margin:20px;display:inline-flex">Update Interval</span>
                    <input type="number" placeholder="Interval" id="setInterval" class="textbox basetext" style="display:inline-flex"/>
                </div>
                <br/>
                <hr style="color:#2779a8">
                <span class="basetext" style="font-size:28px;color:white;display:block;margin:20px">Team Number</span>
                <input type="text" placeholder="Team Number" id="setTeam" class="textbox basetext"/>
                <br/>
                <br/>
                <div style="display:inline-flex">
                    <div class="basebutton teamnumberadd" style="width: 6%;margin:3px;padding:12px" data-role="0">
                        <span class="basetext" style="font-size:20px;pointer-events:none">0</span>
                    </div>
                    <div class="basebutton teamnumberadd" style="width: 6%;margin:3px;padding:12px" data-role="1">
                        <span class="basetext" style="font-size:20px;pointer-events:none">1</span>
                    </div>
                    <div class="basebutton teamnumberadd" style="width: 6%;margin:3px;padding:12px" data-role="2">
                        <span class="basetext" style="font-size:20px;pointer-events:none">2</span>
                    </div>
                    <div class="basebutton teamnumberadd" style="width: 6%;margin:3px;padding:12px" data-role="3">
                        <span class="basetext" style="font-size:20px;pointer-events:none">3</span>
                    </div>
                    <div class="basebutton teamnumberadd" style="width: 6%;margin:3px;padding:12px" data-role="4">
                        <span class="basetext" style="font-size:20px;pointer-events:none">4</span>
                    </div>
                    <div class="basebutton teamnumberadd" style="width: 6%;margin:3px;padding:12px" data-role="5">
                        <span class="basetext" style="font-size:20px;pointer-events:none">5</span>
                    </div>
                    <div class="basebutton teamnumberadd" style="width: 6%;margin:3px;padding:12px" data-role="6">
                        <span class="basetext" style="font-size:20px;pointer-events:none">6</span>
                    </div>
                    <div class="basebutton teamnumberadd" style="width: 6%;margin:3px;padding:12px" data-role="7">
                        <span class="basetext" style="font-size:20px;pointer-events:none">7</span>
                    </div>
                    <div class="basebutton teamnumberadd" style="width: 6%;margin:3px;padding:12px" data-role="8">
                        <span class="basetext" style="font-size:20px;pointer-events:none">8</span>
                    </div>
                    <div class="basebutton teamnumberadd" style="width: 6%;margin:3px;padding:12px" data-role="9">
                        <span class="basetext" style="font-size:20px;pointer-events:none">9</span>
                    </div>
                    <div class="basebutton teamnumberadd" style="width: 18%;margin:3px;padding:12px" data-role="x">
                        <span class="basetext" style="font-size:20px;pointer-events:none">X</span>
                    </div>
                </div>
                <br/>
                <div class="basebutton" style="width: 16%;margin-bottom:20px;margin-top:20px" id="submitConfig">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Save</span>
                </div>
                <div class="basebutton exitoverlay" style="width: 16%;margin-left:10px;margin-bottom:20px;margin-top:20px">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Exit</span>
                </div>
            </div>
        </div>
        <div class="backgroundanim" style="position: absolute;z-index:3;top:0;left:0;width:100%;height:100%;transition:all 0.5s ease-in-out;display:none;opacity:0" id="lockScreen">
            <div style="position: absolute;top:20%;left:50%;transform:translateX(-50%);">
                <div class="innercontainer" style="width:60vw;height:60vw;border-radius:60vw;transition:0.5s all ease-in-out;margin-bottom:100px;" id="unlock">
                    <img src="lock.svg" style="width: 60%;margin-top:20%;pointer-events:none"/>
                </div>
                <div style="width:60vw;height:60vw;margin-bottom:100px;display:none;opacity:0" id="enterCode">
                    <div class="innercontainer keypad" style="width:20vw;height:20vw;border-radius:20vw;transition:0.3s all ease-in-out;display:inline-block;margin:5px" data-code="1" data-color="#3679ff">
                        <img src="images/cloud.svg" style="width: 60%;margin-top:20%;pointer-events:none"/>
                    </div>
                    <div class="innercontainer keypad" style="width:20vw;height:20vw;border-radius:20vw;transition:0.3s all ease-in-out;display:inline-block;margin:5px" data-code="2" data-color="#3679ff">
                        <img src="images/trophy.svg" style="width: 60%;margin-top:20%;pointer-events:none"/>
                    </div>
                    <div class="innercontainer keypad" style="width:20vw;height:20vw;border-radius:20vw;transition:0.3s all ease-in-out;display:inline-block;margin:5px" data-code="3" data-color="#3679ff">
                        <img src="images/water.svg" style="width: 60%;margin-top:20%;pointer-events:none"/>
                    </div>
                    <div class="innercontainer keypad" style="width:20vw;height:20vw;border-radius:20vw;transition:0.3s all ease-in-out;display:inline-block;margin:5px" data-code="4" data-color="#3679ff">
                        <img src="images/bolt.svg" style="width: 60%;margin-top:20%;pointer-events:none"/>
                    </div>
                </div>
                <br/>
                <span class="basetext" style="font-size:80px;pointer-events:none;font-weight:600">Pit Crew</span>
            </div>
        </div>
        <div class="container" id="nextUp">
            <div style="display: flex;justify-content:space-around;margin-top:20px">
                <div style="display:inline-flex">
                    <div style="display:block;text-align:left">
                        <span class="basetext" style="display:block;font-size:14px;margin-bottom:5px;margin-left:10px">Our Next Match</span>
                        <div class="innercontainer" style="width:160px;height:80px;display:block;text-align:center">
                            <span class="basetext" style="font-size:40px;font-weight:600;display:block" id="nextMatch">20</span>
                            <span class="basetext" style="font-size:20px;font-weight:600;display:block" id="nextMatchD">Qualification</span>
                            
                        </div>
                    </div>
                   
                </div>
                <div style="display:inline-flex">
                    <div style="display:block;text-align:left" id="matchGapContainer">
                        <span class="basetext" style="display:block;font-size:14px;margin-bottom:5px;margin-left:10px">Match Gap</span>
                        <div class="innercontainer" style="width:200px;height:80px;display:block;text-align:center">
                            <span class="basetext" style="font-size:40px;font-weight:600;display:block" id="queueTime">6</span>
                            <span class="basetext" style="font-size:20px;font-weight:600;display:block" id="lastMatch">from 20...</span>
                        </div>
                    </div>
                   
                </div>
                <div style="display:inline-flex">
                    <div style="display:block;text-align:left">
                        <span class="basetext" style="display:block;font-size:14px;margin-bottom:5px;margin-left:10px">Bumpers</span>
                        <div class="innercontainer red" style="width:160px;height:80px;display:block;text-align:center" id="bumpersTextContainer">
                            <span class="basetext" style="font-size:60px;font-weight:600" id="bumpersText">Red</span>
                        </div>
                    </div>
                   
                </div>
            </div>
            <div style="display: flex;justify-content:center;margin-top:20px;margin-bottom:20px" id="teamsPresent">
                <div style="display:inline-flex">
                    <div style="display:block">
                        <div class="innercontainer reddim" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">254</span>
                        </div>
                        
                    </div>
                    <div style="display:block">
                        <div class="innercontainer red" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">862</span>
                        </div>
                        
                    </div>
                    <div style="display:block">
                        <div class="innercontainer reddim" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">1023</span>
                        </div>
                        
                    </div>
                    <div style="border-left:2px solid white;height:45px;margin:5px;margin-top:5px;border-radius:2px"></div>
                    <div style="display:block">
                        <div class="innercontainer bluedim" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">33</span>
                        </div>
                        
                    </div>
                    <div style="display:block">
                        <div class="innercontainer bluedim" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">118</span>
                        </div>
                        
                    </div>
                    <div style="display:block">
                        <div class="innercontainer bluedim" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">494</span>
                        </div>
                        
                    </div>
                   
                </div>
            </div>
            <div class="basebutton" style="width: 9%;margin-bottom:15px" id="prevMatchC">
                <i class="material-icons" style="margin:auto 24px;vertical-align:-4px;scale:175%;pointer-events:none">arrow_back</i>
            </div>
            <div class="basebutton" style="width: 9%;margin-left:10px;margin-bottom:15px" id="nextMatchC">
                <i class="material-icons" style="margin:auto 24px;vertical-align:-4px;scale:175%;pointer-events:none">arrow_forward</i>
            </div>
        </div>
        <div class="container" id="shiftsView">
            <div>
                <h1 class="basetext" style="margin-bottom:4px;display:inline-block" id="shiftDayText">Shift Schedule</h1>
                <br/>
                <span class="basetext" style="font-size:24px;margin:0;display:inline-block">Match</span>
                <span class="basetext" style="font-weight:bold;font-size:24px;margin:0 2px;color:#22df93;display:inline-block" id="shiftMatchStart">-</span>
                <span class="basetext" style="font-size:24px;margin:0;display:inline-block">to Match</span>
                <span class="basetext" style="font-weight:bold;font-size:24px;margin:0 2px;color:#22df93;display:inline-block" id="shiftMatchEnd">-</span>
                <br/>
                <span class="basetext" style="font-weight:bold;font-size:20px;margin:0 2px;margin-bottom:20px;color:#22df93;display:inline-block" id="shiftTimeStart">--:-- AM</span>
                <span class="basetext" style="font-size:20px;margin:0;margin-bottom:20px;display:inline-block">to</span>
                <span class="basetext" style="font-weight:bold;font-size:20px;margin:0 2px;margin-bottom:20px;color:#22df93;display:inline-block" id="shiftTimeEnd">--:-- AM</span>
            </div>
            <div style="width:90%;display:inline-block;margin-bottom:20px;border:3px solid #2779a8;border-radius:16px">
                <table class="baseTablehead">
                    <caption class="baseTable notopborder norightborder" style="font-size:24px;font-weight:bold;padding:5px" id="shiftGroupText">Group -</caption>
                    <tr>
                        <th class="baseTable" style="width:25%;font-size:24px">Fab 1</th>
                        <th class="baseTable" style="width:25%;font-size:24px">Fab 2</th>
                        <th class="baseTable" style="width:25%;font-size:24px">Electrical</th>
                        <th class="baseTable norightborder" style="width:25%;font-size:24px">Programming</th>
                    </tr>
                    <tr>
                        <td class="baseTable notopborder" id="shiftFab1Text">-</td>
                        <td class="baseTable notopborder" id="shiftFab2Text">-</td>
                        <td class="baseTable notopborder" id="shiftElectricalText">-</td>
                        <td class="baseTable notopborder norightborder" id="shiftProgrammingText">-</td>
                    </tr>
                </table>
            </div>
            <div style="width:90%;display:inline-block">
                <div class="basebutton" style="pointer-events:none;visibility:hidden;display:inline-block" id="shiftBack">
                    <i class="material-icons" style="margin:auto 24px;vertical-align:-4px;scale:175%;pointer-events:none">arrow_back</i>
                </div>
                <span class="basetext" style="margin:auto 24px;font-size:24px;display:inline-block" id="shiftCountText">Shift 1</span>
                <div class="basebutton" style="display:inline-block" id="shiftNext">
                    <i class="material-icons" style="margin:auto 24px;vertical-align:-4px;scale:175%;pointer-events:none">arrow_forward</i>
                </div>
            </div>
        </div>

        <div class="container" style="display:none" id="container_settingsMenu">
            <div>
                <h1 class="basetext" style="display:inline-block">Settings</h1>
            </div>

            <div style="width:90%;display:inline-block;margin-bottom:20px">
                <div class="basebutton secSettings" style="width: 25%;margin:5px;display:none" setting="showScheduleSettings">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Schedule Settings</span>
                </div>
                <div class="basebutton secSettings" style="width: 25%;margin:5px;display:none" setting="changeShift" id="settings_changeShift">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Change Shift Set</span>
                </div>
                <div style="margin:5px auto;margin-bottom:15px;padding: 10px 0;border:3px solid #2779a8;border-radius:20px;">
                    <i class="material-icons" style="vertical-align:-4px;scale: 125%;color:white">system_update_alt</i> 
                    <span class="basetext" style="margin-left:10px;margin-right:15px;font-size:24px;pointer-events:none">Update</span>
                    <div class="basebutton secSettings" style="width: 18%;margin:5px;padding: 15px 0px;" setting="about">
                        <span class="basetext" style="font-size:20px;pointer-events:none">About</span>
                    </div>
                    <div class="basebutton secSettings" style="width: 19%;margin:5px;padding: 15px 0px;" setting="gitPull" id="gitUpdateButton">
                        <span class="basetext" style="font-size:20px;pointer-events:none">Pull Git</span>
                    </div>
                    <div class="basebutton secSettings" style="width: 27%;margin:5px;padding: 15px 0px;" setting="restart">
                        <span class="basetext" style="font-size:20px;pointer-events:none">Restart App</span>
                    </div>
                </div>
                <div style="margin:5px auto;margin-bottom:15px;padding: 10px 0;border:3px solid #2779a8;border-radius:20px;">
                    <i class="material-icons" style="vertical-align:-4px;scale: 125%;color:white">settings</i> 
                    <span class="basetext" style="margin-left:10px;margin-right:15px;font-size:24px;pointer-events:none">Config</span>
                    <div class="basebutton secSettings" style="width: 25%;margin:5px;padding: 15px 0px;" setting="showConfig">
                        <span class="basetext" style="font-size:20px;pointer-events:none">Settings</span>
                    </div>
                    <div class="basebutton secSettings" style="width: 25%;margin:5px;padding: 15px 0px;" setting="showTechSettings">
                        <span class="basetext" style="font-size:20px;pointer-events:none">Toggles</span>
                    </div>
                </div>
            </div>

        </div>

        <div class="container">
            <div>
                <h1 class="basetext" style="display:inline-block">Pit Control</h1>
            </div>
            
            <div style="width:90%;display:inline-block;margin-bottom:20px">
                <div style="width:100%;margin:5px auto;margin-bottom:10px;padding: 10px 0;border:3px solid #2779a8;border-radius:20px;" id="displayContainer">
                    <i class="material-icons-outlined" style="vertical-align:-3px;scale: 110%;color:white">wysiwyg</i> 
                    <span class="basetext" style="margin-left:5px;margin-right:15px;font-size:24px;pointer-events:none">Display</span>
                    <div class="basebutton outerNav checklistselected" style="background-color:#3679ff;width:29%;margin:5px;padding: 15px 0px;" nav="match">
                        <span class="basetext" style="font-size:20px;pointer-events:none">Match Schedule</span>
                    </div>
                    <div class="basebutton outerNav" style="width: 19%;margin:5px;padding: 15px 0px;" nav="bracket">
                        <span class="basetext" style="font-size:20px;pointer-events:none">Bracket</span>
                    </div>
                    <div class="basebutton outerNav" style="width: 20%;margin:5px;padding: 15px 0px;display:none" nav="teams" id="betaRankingsToggle">
                        <span class="basetext" style="font-size:20px;pointer-events:none">Rankings</span>
                    </div>
                </div>
                <div style="width:100%;margin:5px auto;margin-bottom:10px;padding: 10px 0;border:3px solid #2779a8;border-radius:20px;" id="locksContainer">
                    <i class="material-icons-outlined" style="vertical-align:-3px;scale: 110%;color:white">lock</i> 
                    <span class="basetext" style="margin-left:5px;margin-right:15px;font-size:24px;pointer-events:none">Lock</span>
                    <div class="basebutton" style="width: 25%;margin:5px;padding: 15px 0px;" id="lockTech">
                        <span class="basetext" style="font-size:20px;pointer-events:none">Inner</span>
                    </div>
                    <div class="basebutton" style="width: 25%;margin:5px;padding: 15px 0px;" id="lockPits">
                        <span class="basetext" style="font-size:20px;pointer-events:none">Outer</span>
                    </div>
                    <div class="basebutton" style="width: 10%;margin:5px;padding: 15px 0px" id="dvdToggle">
                        <i class="material-icons" style="vertical-align:-4px;pointer-events:none;scale:110%">album</i>
                    </div>
                </div>
                <div class="basebutton" style="width: 25%;margin:15px;display:none" id="statusDropdown">
                    <span class="basetext" style="font-size:20px;pointer-events:none">Display Status</span>
                </div>
                <div style="width:100%;margin:auto;padding:10px 0;border:none;border-radius:20px;display:inline-block", id="streamDivBox">
                    <div class="basebutton" style="width: 25%;margin:5px" id="showStream">
                        <i class="material-icons" style="vertical-align:-5px;pointer-events:none;scale:110%">power_settings_new</i>
                        <span class="basetext" style="margin-left:5px;font-size:20px;pointer-events:none">Stream</span>
                    </div>
                    <div class="basebutton" style="margin:5px;display:none" id="unmuteStream">
                        <i class="material-icons" style="vertical-align:-5px;pointer-events:none;scale:110%" id="innerDiv_unmuteStream_icon">volume_off</i>
                        <!-- <span class="basetext" style="margin-left:5px;font-size:20px;pointer-events:none" id="innerDiv_unmuteStream_text">Unmute</span> -->
                    </div>
                    <div class="basebutton" style="margin:5px;display:none" id="syncStream">
                        <i class="material-icons" style="vertical-align:-5px;pointer-events:none;scale:110%">sync</i>
                        <!-- <span class="basetext" style="margin-left:5px;margin-right:5px;font-size:20px;pointer-events:none">Sync</span> -->
                    </div>
                    <div class="basebutton" style="margin:5px;display:none" id="qualityOverlay">
                        <i class="material-icons-outlined" style="vertical-align:-5px;pointer-events:none;scale:110%">hd</i>
                        <span class="basetext" style="margin-left:5px;font-size:20px;pointer-events:none">Quality</span>
                    </div>
                </div>
            </div> 
        </div>
    </div>
    <div class="notificationbox innercontainer blue" id="notificationBox">
        <h1 class="basetext" id="notificationText">Currently in Queue</h1>
    </div>
    <div class="basebutton" style="position:absolute;bottom:-1;left:0;background:transparent;color:transparent;border:none;height:55px;width:50px" id="secret">
        <span class="basetext" style="font-size:20px;pointer-events:none;color:transparent">Settings</span>
    </div>

    <script src="socket.io.js"></script>
    <script>
        const socket = io("ws://localhost:3001", {
            cors: {
                origin: "http://localhost",
                methods: ["GET", "POST"]
              }
        });

        socket.on('disconnect', function(){
            showNotif("Disconnected from Server!", "reddim");
        });

        socket.on('connect', function(){
            hideNotif();
            socket.emit("getTeam");
            socket.emit('getIp');
            // TODO: put emit call to getProdMode here
            socket.emit('getShiftInfo');
            console.log("Successfully connected to server");
        });

        var timeToReset = 120;
        var startTime = new Date();
        // 0 = Not Ready, 1 = In Queue, 2 = Ready, 3 = In Match
        var matchStatus = 0;
        var notificationOut = false;
        var lastEventCode = "";
        var teamNum = undefined;
        var allMatches = [];

        var secretButtonPressed = false;
        var dvdOn = false;

        var matchData = {
            "matchNumber" : undefined,
            "status" : undefined,
            "rankingPoints" : [false,false]
        }

        function tapButtonAnimation(b) {
            b.classList.add("checklistselected");
            b.style.background = "#3679ff";
            setTimeout(function(){
                b.classList.remove("checklistselected");
                b.style.background = "";
            }, 350);
        }
        function buttonDelay(b, t) {
            b.classList.add("buttonDisabled");
            b.pointerEvents = "none";
            setTimeout(() => {
                b.classList.remove("buttonDisabled");
                b.pointerEvents = "auto";
            }, t);
        }

        function showNotif(content, color){
            if(notificationOut){
                hideNotif();
                setTimeout(function(){
                    notificationOut = false;
                    showNotif(content, color);
                }, 500);
                return;
            }

            if(color == "red"){
                document.getElementById("notificationBox").style.backgroundColor = "#ff3636";
            }else if(color == "reddim"){
                document.getElementById("notificationBox").style.backgroundColor = "#a12222";
            }else if(color == "blue"){
                document.getElementById("notificationBox").style.backgroundColor = "#3679ff";
            }else if(color == "bluedim"){
                document.getElementById("notificationBox").style.backgroundColor = "#2450a6";
            }else if(color == "success"){
                document.getElementById("notificationBox").style.backgroundColor = "#1fcc87";
            }else if(color == "successdim"){
                document.getElementById("notificationBox").style.backgroundColor = "#199e69";
            }
            document.getElementById("notificationBox").style.bottom = "20px";
            document.getElementById("notificationText").innerHTML = content;
            document.getElementById("notificationBox").classList.add("notificationanim");
            notificationOut = true;
            setTimeout(function(){
                document.getElementById("notificationBox").classList.remove("notificationanim");
            }, 2000);
        }
        function hideNotif(){
            document.getElementById("notificationBox").style.bottom = "-200px";
            notificationOut = false;
        }

        function hideOverlay(){
            document.getElementById("totalOverlay").style.opacity = "0";
            setTimeout(function(){
                document.getElementById("totalOverlay").style.display = "none";
            }, 600);
        }
        function showOverlay(overlayBox){
            Array.from(document.getElementsByClassName("overlaybox")).forEach(function(element){
                element.style.display = "none";
                if(element.dataset.purpose == overlayBox){
                    element.style.display = "block";
                }
            });
            document.getElementById("totalOverlay").style.display = "";
            setTimeout(function(){
                document.getElementById("totalOverlay").style.opacity = "1";
            }, 10);
        }


        Array.from(document.getElementsByClassName("matchdataitem")).forEach(function(element){
            element.addEventListener("click", function(evt){
                var category = evt.srcElement.dataset.category;

                if(category == "status"){
                    matchData["status"] = evt.srcElement.dataset.value;
                    evt.srcElement.classList.add("blue");
                    Array.from(document.getElementsByClassName("matchdataitem")).forEach(function(element){
                        if(element.dataset.category == "status" && element.dataset.value != matchData["status"]){
                            try{
                                element.classList.remove("blue");
                            }catch(e){

                            }
                        }
                    });
                }else if(category == "rankingPoints"){
                    var value = parseInt(evt.srcElement.dataset.value);
                    if(evt.srcElement.classList.contains("circlebuttonselected")){
                        evt.srcElement.classList.remove("circlebuttonselected");
                        evt.srcElement.style.backgroundColor = "";
                        matchData["rankingPoints"][value] = false;
                    }else{

                        evt.srcElement.classList.add("circlebuttonselected");
                        matchData["rankingPoints"][value] = true;
                        setTimeout(function(){
                            evt.srcElement.style.backgroundColor = "#3679ff";
                        }, 100);
                    }
                }
            });
        });

        var fieldCurrent = undefined;        

        function updateMatch(i){
            var currentMatch = allMatches[i];
            var lastMatch = i > 0 ? allMatches[i-1]["n"] : 1;
            if(currentMatch == undefined){
                document.getElementById("queueTime").innerHTML = "---";
                
                document.getElementById("lastMatch").innerHTML = "No Match on Field";
                document.getElementById("nextMatch").innerHTML = "---";
                document.getElementById("nextMatchD").innerHTML = "Non-Existent";
                document.getElementById("bumpersText").innerHTML = "---";
                document.getElementById("bumpersTextContainer").style.backgroundColor = "";
                // TODO: david must have been high when he wrote this
                document.getElementById("teamsPresent").innerHTML = `<div style="display:inline-flex">
                    <div style="display:block">
                        <div class="innercontainer reddim" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">---</span>
                        </div>
                        
                    </div>
                    <div style="display:block">
                        <div class="innercontainer reddim" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">---</span>
                        </div>
                        
                    </div>
                    <div style="display:block">
                        <div class="innercontainer reddim" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">---</span>
                        </div>
                        
                    </div>
                    <div style="border-left:2px solid white;height:45px;margin:5px;margin-top:5px;border-radius:2px"></div>
                    <div style="display:block">
                        <div class="innercontainer bluedim" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">---</span>
                        </div>
                        
                    </div>
                    <div style="display:block">
                        <div class="innercontainer bluedim" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">---</span>
                        </div>
                        
                    </div>
                    <div style="display:block">
                        <div class="innercontainer bluedim" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                            <span class="basetext" style="font-size:20px;font-weight:600">---</span>
                        </div>
                        
                    </div>
                
                </div>`
                document.getElementById("prevMatchC").style.visibility = "hidden";
                document.getElementById("prevMatchC").style.pointerEvents = "none";
                document.getElementById("nextMatchC").style.visibility = "hidden";
                document.getElementById("nextMatchC").style.pointerEvents = "none";
                
            }else{
                if(fieldMatch == 0){
                    document.getElementById("queueTime").innerHTML = (currentMatch["n"]-lastMatch) + "*";
                }else{
                    document.getElementById("queueTime").innerHTML = (currentMatch["n"]-lastMatch) + "";
                    if((currentMatch["n"]-fieldMatch-2) < 0){
                        // showNotif("Warning: Nearing Our Match Quickly!", "red")
                    }
                    else if((currentMatch["n"]-fieldMatch-3) <= 0){
                        console.log("omggg it triggered wawooeeee!!!")
                        document.getElementById("matchGapContainer").querySelector('div').style.backgroundColor = "#f5860f";
                        // showNotif("Let's go, we are in QUEUE!", "blue")
                    }
                }
                
            
            if(fieldMatch == 0){
                document.getElementById("lastMatch").innerHTML = "No Match on Field";
            }else{
                document.getElementById("lastMatch").innerHTML = "Match on Field: " + fieldMatch;
            }
            document.getElementById("nextMatch").innerHTML = currentMatch['n'];
            document.getElementById("nextMatchD").innerHTML = currentMatch['d'].split(" ")[0];
            if(currentMatch['d'].split(" ")[0] != "Qualification"){
                document.getElementById("nextMatch").innerHTML = currentMatch['d'].split(" ")[currentMatch['d'].split(" ").length-1];
            }
            document.getElementById("bumpersText").innerHTML = currentMatch['teams'].indexOf(teamNum) <= 2 ? "Red" : "Blue";
            document.getElementById("bumpersTextContainer").style.backgroundColor = currentMatch['teams'].indexOf(teamNum) <= 2 ? "#ff3636" : "#3679ff";
            document.getElementById("teamsPresent").innerHTML = `<div style="display:inline-flex">
                <div style="display:block">
                    <div class="innercontainer ${currentMatch['teams'][0] == teamNum ? "red" : "reddim"}" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                        <span class="basetext" style="font-size:20px;font-weight:600">${currentMatch['teams'][0]}</span>
                    </div>
                    
                </div>
                <div style="display:block">
                    <div class="innercontainer ${currentMatch['teams'][1] == teamNum ? "red" : "reddim"}" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                        <span class="basetext" style="font-size:20px;font-weight:600">${currentMatch['teams'][1]}</span>
                    </div>
                    
                </div>
                <div style="display:block">
                    <div class="innercontainer ${currentMatch['teams'][2] == teamNum ? "red" : "reddim"}" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                        <span class="basetext" style="font-size:20px;font-weight:600">${currentMatch['teams'][2]}</span>
                    </div>
                    
                </div>
                <div style="border-left:2px solid white;height:45px;margin:5px;margin-top:5px;border-radius:2px"></div>
                <div style="display:block">
                    <div class="innercontainer ${currentMatch['teams'][3] == teamNum ? "blue" : "bluedim"}" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                        <span class="basetext" style="font-size:20px;font-weight:600">${currentMatch['teams'][3]}</span>
                    </div>
                    
                </div>
                <div style="display:block">
                    <div class="innercontainer ${currentMatch['teams'][4] == teamNum ? "blue" : "bluedim"}" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                        <span class="basetext" style="font-size:20px;font-weight:600">${currentMatch['teams'][4]}</span>
                    </div>
                    
                </div>
                <div style="display:block">
                    <div class="innercontainer ${currentMatch['teams'][5] == teamNum ? "blue" : "bluedim"}" style="width:60px;height:25px;display:block;text-align:center;margin:5px;padding:10px">
                        <span class="basetext" style="font-size:20px;font-weight:600">${currentMatch['teams'][5]}</span>
                    </div>
                    
                </div>
               
            </div>`
            }
        }

        var prodState = true;

        socket.on('recieve_getProdMode', (state) => {
            document.getElementById("versionText").innerHTML = state.version;
            prodState = state["state"] == 1;
            if (!prodState) {
                document.getElementById("secret").style.background = "orange";
                document.getElementById("secret").style.borderRadius = "0px";
                document.getElementById("secret").innerHTML = '<p class="basetext" style="pointer-events:none;color:white">Settings</p>';
            }
        });
        socket.emit('getProdMode');

        var codevalues = [];
        var correct = "1342"
        Array.from(document.getElementsByClassName("keypad")).forEach(function(element){
            element.addEventListener("click", function(evt){
                var val = evt.srcElement.dataset.code;
                if(codevalues.includes(val)){
                    evt.srcElement.classList.add("turnbounceanim");
                    
                    setTimeout(function(){
                        evt.srcElement.classList.remove("turnbounceanim")
                        
                    }, 650);
                }else{
                    evt.srcElement.style.backgroundColor = evt.srcElement.dataset.color;
                    evt.srcElement.classList.add("circlebuttonselected2");
                    setTimeout(function(){
                        evt.srcElement.classList.remove("circlebuttonselected2");
                    }, 450);
                    codevalues.push(val);
                    if(codevalues.length >= 4){
                        setTimeout(function(){
                            var gen = codevalues.join("");
                            if(correct == gen){
                                Array.from(document.getElementsByClassName("keypad")).forEach(function(element){
                                    element.style.backgroundColor = "#1fcc87";
                                    element.classList.add("circlebuttonselected2");
                                });
                                setTimeout(function(){
                                    Array.from(document.getElementsByClassName("keypad")).forEach(function(element){
                                        element.style.backgroundColor = "";
                                        element.classList.remove("circlebuttonselected2")
                                    });
                                    codevalues = [];
                                    document.getElementById("lockScreen").style.opacity = "0";
                                    setTimeout(function(){
                                        evt.srcElement.classList.remove("circlebuttonselected2");
                                    }, 450);
                                    setTimeout(function(){
                                        document.getElementById("lockScreen").style.display = "none";
                                    },550)
                                }, 600);
                            }else{
                                Array.from(document.getElementsByClassName("keypad")).forEach(function(element){
                                    element.style.backgroundColor = "#ff3636";
                                    element.classList.add("turnbounceanim");
                                });
                                setTimeout(function(){
                                    Array.from(document.getElementsByClassName("keypad")).forEach(function(element){
                                        element.style.backgroundColor = "";
                                        element.classList.remove("turnbounceanim");
                                    });
                                    codevalues = [];
                                }, 800);
                            }
                        },800);
                        
                    }
                }
                
                
            });
        });
        var offset = 1;
        var fieldMatch = 0;
        socket.on("matches", function(data){
            var matches = data["docs"];
            fieldMatch = data["currentMatch"]

            //console.log(matches[1].teams.includes(teamNum));
            allMatches = matches.filter(m => m.teams.includes(teamNum));
            
            var currentMatch = undefined;
            allMatches.sort((a,b) => (a.n > b.n) ? 1 : ((b.n > a.n) ? -1 : 0))
            matches.sort((a,b) => (a.n > b.n) ? 1 : ((b.n > a.n) ? -1 : 0))
            allMatches.forEach(function(match){
                if(document.getElementById("setEventCode").value != match["comp"]){
                    offset = 1;
                }
                document.getElementById("setEventCode").value = match["comp"];
                
                if(match['status'] == "pending" && currentMatch == undefined && match['teams'].includes(teamNum)){
                    currentMatch = match;
                }
            });

            document.getElementById("prevMatchC").style.visibility = "hidden";
            document.getElementById("prevMatchC").style.pointerEvents = "none";
            document.getElementById("nextMatchC").style.visibility = "";
            document.getElementById("nextMatchC").style.pointerEvents = "auto";

            matchIndex = allMatches.indexOf(currentMatch);
            
            updateMatch(matchIndex + offset);

        });

        document.getElementById("prevMatchC").addEventListener("click", function(evt){
            evt.srcElement.classList.add("checklistselected");
            evt.srcElement.style.backgroundColor = "#3679ff";
            setTimeout(function(){
                evt.srcElement.classList.remove("checklistselected");
                evt.srcElement.style.backgroundColor = "";
            }, 550);
            offset--;
                updateMatch(matchIndex+offset);
            hideOverlay();

            if (offset - 1 < 1) {
                evt.srcElement.style.visibility = "hidden";
                evt.srcElement.style.pointerEvents = "none";
            }
            if (offset + 1 <= allMatches.length) {
                document.getElementById("nextMatchC").style.visibility = "";
                document.getElementById("nextMatchC").style.pointerEvents = "auto";
            }
        });
        document.getElementById("nextMatchC").addEventListener("click", function(evt){
            evt.srcElement.classList.add("checklistselected");
            evt.srcElement.style.backgroundColor = "#3679ff";
            setTimeout(function(){
                evt.srcElement.classList.remove("checklistselected");
                evt.srcElement.style.backgroundColor = "";
            }, 550);
            offset++;
                updateMatch(matchIndex+offset);
            hideOverlay();

            if (offset + 1 > allMatches.length) {
                evt.srcElement.style.visibility = "hidden";
                evt.srcElement.style.pointerEvents = "none";
            }
            if (offset - 1 >= 1) {
                document.getElementById("prevMatchC").style.visibility = "";
                document.getElementById("prevMatchC").style.pointerEvents = "auto";
            }
        });

        socket.on("team", function(val){
            teamNum = parseInt(val);
            
            if(teamNum == undefined){
                socket.emit("setTeam", 862);
                document.getElementById("setTeam").value = "862";
                
            }else{
                hideOverlay();
                document.getElementById("setTeam").value = teamNum.toString();
                socket.emit("getMatches");  
            }
            
        });

        document.getElementById("submitConfig").addEventListener("click", function(){
            socket.emit("setTeam", parseInt(document.getElementById("setTeam").value));
            // calc new config
            timeToReset = parseInt(document.getElementById("setInterval").value);
            socket.emit("setConfig", document.getElementById("setEventCode").value, document.getElementById("matchType").value);
            hideOverlay();
        });

        document.getElementById("matchType").addEventListener("change", function(evt){
            currentShiftId = 0;
            recieve_shiftInfo(shiftInfo);
        });

        Array.from(document.getElementsByClassName("teamnumberadd")).forEach(function(element){
            element.addEventListener("click", function(evt){
                evt.srcElement.classList.add("checklistselected");

                
                var num = evt.srcElement.dataset.role;
                if(num == "x"){
                    document.getElementById("setTeam").value = "";
                }else if(document.getElementById("setTeam").value.toString().length < 4){
                    document.getElementById("setTeam").value = document.getElementById("setTeam").value.toString() + num;
                }
                

                setTimeout(function(){
                    evt.srcElement.style.backgroundColor = "#3679ff";
                }, 100);

                setTimeout(function(){
                    evt.srcElement.classList.remove("checklistselected");
                    evt.srcElement.style.backgroundColor = "";
                }, 600);
                
                
            });
        
        });

        var currentShiftId = 0;
        var currentShiftView = 1;
        var shiftInfo = [];
        var currentShiftInfo = {
            "id": "0",
            "type": "Qualification",
            "date": "null",
            "shiftMin": 1,
            "shiftMax": 4,
            "timing": [
                [0, 0, "00:00 AM", "00:00 AM", 1],
                [0, 0, "00:00 AM", "00:00 AM", 2],
                [0, 0, "00:00 AM", "00:00 AM", 3],
                [0, 0, "00:00 AM", "00:00 AM", 4]
            ],
            "groups": [
                ["Hey!", "You", "shouldn't", "be"],
                ["seeing", "this", "text!", "This"],
                ["is", "debug", "text", "which"],
                ["means", "something", "went", "wrong! :("]
            ]
        };
        
        function shiftTextHelper(input) {
            var time = currentShiftInfo["timing"][input - 1]
            var data = currentShiftInfo["groups"][time[4] - 1]
            document.getElementById("shiftDayText").innerHTML = `Shift Schedule for ${currentShiftInfo["date"]}`;
            document.getElementById("shiftCountText").innerHTML = `Shift ${input}`;
            document.getElementById("shiftGroupText").innerHTML = `Group ${time[4]}`;
            document.getElementById("shiftFab1Text").innerHTML = `${data[0]}`;
            document.getElementById("shiftFab2Text").innerHTML = `${data[1]}`;
            document.getElementById("shiftElectricalText").innerHTML = `${data[2]}`;
            document.getElementById("shiftProgrammingText").innerHTML = `${data[3]}`;
            document.getElementById("shiftMatchStart").innerHTML = `${time[0]}`;
            document.getElementById("shiftMatchEnd").innerHTML = `${time[1]}`;
            document.getElementById("shiftTimeStart").innerHTML = `${time[2]}`;
            document.getElementById("shiftTimeEnd").innerHTML = `${time[3]}`;
        }

        function recieve_shiftInfo(info) {
            const matchType = document.getElementById("matchType").value
            shiftInfo = info;
            if ([matchType, "Both"].includes(info[currentShiftId]["type"])) {
                currentShiftInfo = info[currentShiftId];
                shiftTextHelper(1);
            }
            document.getElementById("settings_changeShift").style.display = "inline-block";
            Array.from(document.getElementsByClassName("shiftChangeButton"), (element) => {
                if (info[parseInt(element.dataset.id)] == undefined || ![matchType, "Both"].includes(info[parseInt(element.dataset.id)]["type"])) {
                    element.style.display = "none"
                } else {
                    element.style.display = "inline-block"
                    element.querySelector('span').innerHTML = info[parseInt(element.dataset.id)]["date"];

                    if (element.dataset.id == currentShiftId) {
                        element.style.backgroundColor = "#3679ff";
                        element.classList.add("checklistselected");
                    }
                }
            })
        }
        socket.on("recieve_shiftInfo", (info) => { recieve_shiftInfo(info); });


        document.getElementById("shiftBack").addEventListener("click", function(evt) {
            currentShiftView--;
            if (currentShiftView <= currentShiftInfo["shiftMin"]) {
                document.getElementById("shiftBack").style.pointerEvents = "none";
                document.getElementById("shiftBack").style.visibility = "hidden";
            }
            if (currentShiftView < currentShiftInfo["shiftMax"]) {
                document.getElementById("shiftNext").style.pointerEvents = "auto";
                document.getElementById("shiftNext").style.visibility = "visible";
            }
            tapButtonAnimation(evt.srcElement)
            shiftTextHelper(currentShiftView);
        });

        document.getElementById("shiftNext").addEventListener("click", function(evt) {
            currentShiftView++;
            if (currentShiftView >= currentShiftInfo["shiftMax"]) {
                document.getElementById("shiftNext").style.pointerEvents = "none";
                document.getElementById("shiftNext").style.visibility = "hidden";
            }
            if (currentShiftView > currentShiftInfo["shiftMin"]) {
                document.getElementById("shiftBack").style.pointerEvents = "auto";
                document.getElementById("shiftBack").style.visibility = "visible";
            }
            tapButtonAnimation(evt.srcElement)
            shiftTextHelper(currentShiftView);
        });

        Array.from(document.getElementsByClassName("shiftChangeButton")).forEach(function(element){
            element.addEventListener("click", function(evt){
                if (!evt.srcElement.classList.contains("checklistselected")) {
                    Array.from(document.getElementsByClassName("shiftchangeButton")).forEach(function(element){
                        if(element.dataset.id != evt.srcElement.dataset.id){
                            element.classList.remove("checklistselected");
                            element.style.backgroundColor = "";
                        }
                    });
                    evt.srcElement.classList.add("checklistselected");
                    evt.srcElement.style.backgroundColor = "#3679ff";
                    currentShiftId = parseInt(evt.srcElement.dataset.id);
                    currentShiftInfo = shiftInfo[currentShiftId];
                    currentShiftView = 1;
                    shiftTextHelper(1);
                    document.getElementById("shiftNext").style.pointerEvents = "auto";
                    document.getElementById("shiftNext").style.visibility = "visible";
                    document.getElementById("shiftBack").style.pointerEvents = "none";
                    document.getElementById("shiftBack").style.visibility = "hidden";
                }
            });
        });
    
        var currentNavSelect = "match";
        Array.from(document.getElementsByClassName("outerNav")).forEach(function(element){
            element.addEventListener("click", function(evt){
                if (evt.srcElement.classList.contains("checklistselected")) {
                    return;
                }
                Array.from(document.getElementsByClassName("outerNav")).forEach(function(element){
                    element.classList.remove("checklistselected");
                    element.style.backgroundColor = "";
                });
                evt.srcElement.classList.add("checklistselected");
                evt.srcElement.style.backgroundColor = "#3679ff";
                currentNavSelect = evt.srcElement.getAttribute("nav");
                socket.emit("outerNavShift", currentNavSelect == "match" ? "" : currentNavSelect + ".html");
            });
        });

        function toggleNavControls(enable) {
            Array.from(document.getElementsByClassName("outerNav")).forEach(function(element){
                if (element.getAttribute("nav") == currentNavSelect) {
                    enable ? element.classList.add("checklistselected") : element.classList.remove("checklistselected");
                    element.style.backgroundColor = enable ? "#3679ff" :"";
                }
                enable ? element.classList.remove("buttonDisabled") : element.classList.add("buttonDisabled");
                element.style.pointerEvents = enable ? "auto" : "none";
            });
        }


        Array.from(document.getElementsByClassName("settingPassword")).forEach(function(element){
            element.addEventListener("click", function(evt){
                evt.srcElement.style.backgroundColor = "#000000";
            });
        });

        Array.from(document.getElementsByClassName("secSettings")).forEach(function(element){
            element.addEventListener("click", function(evt){
                const setting = evt.srcElement.getAttribute("setting");
                switch (setting) {
                    case "about":
                        showOverlay("aboutDialog");
                        break;
                    case "gitPull":
                        evt.srcElement.classList.add("buttonDisabled");
                        evt.srcElement.querySelector('span').innerHTML = "Updating";
                        evt.srcElement.style.pointerEvents = "none";
                        socket.emit("gitPull");
                        break;
                    case "restart":
                        if (prodState) {
                            showOverlay("restartConfirmation");
                        } else {
                            showNotif("Cannot restart in non-prod environment!", "red");
                            setTimeout(function(){
                                hideNotif();
                            }, 2000);
                        }
                        break;
                    case "showTechSettings":
                        showOverlay("techSettings");
                        tapButtonAnimation(evt.srcElement);
                        break;
                    case "changeShift":
                        showOverlay("shiftDayOverlay");
                        tapButtonAnimation(evt.srcElement);
                        break;
                    case "showScheduleSettings":
                        showOverlay("scheduleSettings");
                        break;
                    case "showConfig":
                        showOverlay("config");
                        break
                    // case "updateEnv":
                    //     socket.emit("updateEnv");
                    //     break;
                    default:
                        console.log("Error: SecretSetting not registered");
                        break;
                }
            });
        });

        Array.from(document.getElementsByClassName("extraSettings")).forEach(function(element){
            element.addEventListener("click", function(evt){
                const setting = evt.srcElement.getAttribute("setting");
                const idBypassFlip = []
                if (!(setting in idBypassFlip)) {
                    evt.srcElement.style.backgroundColor = evt.srcElement.style.backgroundColor.toString(16) == "rgb(25, 158, 105)" ? "#a12222" : "#199e69";
                }
                var state = evt.srcElement.style.backgroundColor.toString(16) == "rgb(25, 158, 105)" // true if green (on) false if red (off)
                switch (setting) {
                    case "allowDisplay":
                        document.getElementById("displayContainer").style.display = state ? "" : "none";
                        break;
                    case "allowStream":
                        document.getElementById("showStream").style.display = state ? "" : "none";
                        break;
                    case "allowMatchSelect":
                        document.getElementById("prevMatchC").style.display = state ? "" : "none";
                        document.getElementById("nextMatchC").style.display = state ? "" : "none";
                        break;
                    case "allowChangeStatus":
                        document.getElementById("statusDropdown").style.display = state ? "" : "none";
                        break;
                    case "locks":
                        document.getElementById("locksContainer").style.display = state ? "" : "none";
                        break;
                    case "betaRankings":
                        document.getElementById("betaRankingsToggle").style.display = state ? "" : "none";
                        break;
                    case "dvd":
                        dvdOn = false;
                        document.getElementById("dvdToggle").style.display = state ? "" : "none";
                        break;
                    // case "allowImages":
                    //     socket.emit('setting_scheduleView', 'images', state);
                    //     break;
                    default:
                        console.log("Error: ExtraSetting not registered");
                        break;
                }
            });
        });
        
        document.getElementById('lockPits').addEventListener("click", function(evt){
            var waittime = 15;
            if(evt.srcElement.classList.contains("checklistselected")){
                evt.srcElement.classList.remove("checklistselected");
                evt.srcElement.style.backgroundColor = "";
                toggleNavControls(true);
                document.getElementById("showStream").classList.remove("buttonDisabled");
                document.getElementById("showStream").style.pointerEvents = "auto";
                pitslocked = false;
            } else{
                evt.srcElement.style.backgroundColor = "#3679ff";
                if (document.getElementById("showStream").classList.contains("checklistselected")) {
                    toggleStreamButtons(true);
                    socket.emit("outerNavShift", currentNavSelect == "match" ? "" : currentNavSelect + ".html", "");
                    waittime *= 100;
                }
                toggleNavControls(false);
                document.getElementById("showStream").style.pointerEvents = "none";
                document.getElementById("showStream").classList.add("buttonDisabled");
                evt.srcElement.classList.add("checklistselected");
                pitslocked = true;
            }
            setTimeout(function(){
                socket.emit("changeLock", pitslocked, dvdOn);
            }, waittime);
        });

        document.getElementById("lockTech").addEventListener("click", function(evt){
            tapButtonAnimation(evt.srcElement);

            document.getElementById("unlock").style.display = "";
            document.getElementById("unlock").style.opacity = "1";
            document.getElementById("enterCode").style.display = "none";
            document.getElementById("enterCode").style.opacity = "0";
            document.getElementById("lockScreen").style.display = "";
            setTimeout(function(){
                document.getElementById("lockScreen").style.opacity = "1";
            }, 10);
        })
        
        document.getElementById("dvdToggle").addEventListener("click", function(evt) {
            if (dvdOn) {
                document.getElementById("dvdToggle").classList.remove("checklistselected");
                document.getElementById("dvdToggle").style.backgroundColor = "";
            } else {
                document.getElementById("dvdToggle").classList.add("checklistselected");
                document.getElementById("dvdToggle").style.backgroundColor = "#3679ff";
            }
            dvdOn = !dvdOn;
            if (document.getElementById("lockPits").classList.contains("checklistselected")) {
                socket.emit("changeLock", true, dvdOn);
            }
        });

        document.getElementById("secret").addEventListener("click", function(evt){
            if (!secretButtonPressed) {
                if (prodState) {
                    showOverlay("settingsPassword")
                } else {
                    secretButtonPressed = true;
                    document.getElementById("shiftsView").style.display = "none";
                    document.getElementById("container_settingsMenu").style.display = "block";
                }
            } else {
                secretButtonPressed = false;
                document.getElementById("shiftsView").style.display = "block";
                document.getElementById("container_settingsMenu").style.display = "none";
            }
        });

        document.getElementById("settingsPasswordSubmit").addEventListener("click", function(evt) {
            const passcode = "1247";
            var activatedStates = "";
            Array.from(document.getElementsByClassName("settingPassword")).forEach(function(element){
                if (element.style.backgroundColor == "rgb(0, 0, 0)") {
                    activatedStates += element.getAttribute("data-password");
                }
                element.style.backgroundColor = "";
            });
            if (passcode == activatedStates) {
                secretButtonPressed = true;
                document.getElementById("shiftsView").style.display = "none";
                document.getElementById("container_settingsMenu").style.display = "block";
                hideOverlay();
            } else {
                showNotif("Incorrect Password", "red");
                setTimeout(function(){
                    hideNotif();
                }, 1500);
            }
        })

        document.getElementById("statusDropdown").addEventListener("click", function(evt){
            showOverlay("status");
        });

        Array.from(document.getElementsByClassName("exitoverlay")).forEach(function(element){
            element.addEventListener("click", function(evt){
                tapButtonAnimation(evt.srcElement);
                hideOverlay();
            });
        });

        document.getElementById("confirmRestart").addEventListener("click", function(evt) {
            socket.emit("restartApp");
        });

        var qualityOptions = ["null"];
        var currentQuality = 0;
        var qOptionsMax = 0;
        document.getElementById("qualityOverlay").addEventListener("click", function(evt){
            currentQuality = currentQuality + 1 > qOptionsMax ? 0 : currentQuality + 1;
            evt.srcElement.querySelector('span').innerHTML = qualityOptions[currentQuality] == "chunked" ? "Max" : qualityOptions[currentQuality];
            tapButtonAnimation(evt.srcElement);
            socket.emit("changeStreamQuality", qualityOptions[currentQuality]);
        });

        function toggleStreamButtons(state, failure) {
            if (state == "disable") {
                document.getElementById("showStream").style.backgroundColor = failure ? "#a12222" : "#f5860f";
                document.getElementById("unmuteStream").classList.add("buttonDisabled");
                document.getElementById("unmuteStream").style.pointerEvents = "none";
                document.getElementById("syncStream").classList.add("buttonDisabled");
                document.getElementById("syncStream").style.pointerEvents = "none";
                document.getElementById("qualityOverlay").classList.add("buttonDisabled");
                document.getElementById("qualityOverlay").style.pointerEvents = "none";
                document.getElementById("qualityOverlay").querySelector('span').innerHTML = failure ? failure : "Connecting";
            } else if (state == "enable") {
                document.getElementById("showStream").style.backgroundColor = "#199e69";
                document.getElementById("unmuteStream").classList.remove("buttonDisabled");
                document.getElementById("unmuteStream").style.pointerEvents = "auto";
                document.getElementById("syncStream").classList.remove("buttonDisabled");
                document.getElementById("syncStream").style.pointerEvents = "auto";
                document.getElementById("qualityOverlay").classList.remove("buttonDisabled");
                document.getElementById("qualityOverlay").style.pointerEvents = "auto";
                document.getElementById("qualityOverlay").querySelector('span').innerHTML = qualityOptions[currentQuality] == "chunked" ? "Max" : qualityOptions[currentQuality];
            } else if (state){ //disable
                socket.emit("outerNavShift", currentNavSelect == "match" ? "" : currentNavSelect + ".html", "");
                toggleNavControls(true);
                document.getElementById("streamDivBox").style.border = "none"
                document.getElementById("showStream").style.width = "25%";
                document.getElementById("showStream").classList.remove("checklistselected");
                document.getElementById("showStream").style.backgroundColor = "";
                document.getElementById("showStream").querySelector('span').style.display = "";
                document.getElementById("unmuteStream").classList.remove("checklistselected");
                document.getElementById("unmuteStream").style.backgroundColor = ""
                document.getElementById("innerDiv_unmuteStream_icon").innerHTML = "volume_off";
                document.getElementById("unmuteStream").style.display = "none";
                document.getElementById("syncStream").style.display = "none";
                document.getElementById("qualityOverlay").style.display = "none";
            } else{ //enable
                currentQuality = 3;
                toggleNavControls(false);
                document.getElementById("showStream").style.width = "";
                document.getElementById("showStream").classList.add("checklistselected");
                document.getElementById("showStream").style.backgroundColor = "#f5860f";
                document.getElementById("showStream").querySelector('span').style.display = "none";
                document.getElementById("streamDivBox").style.border = "3px solid #2779a8"
                document.getElementById("unmuteStream").style.display = "inline-block";
                document.getElementById("syncStream").style.display = "inline-block";
                document.getElementById("qualityOverlay").style.display = "inline-block";
            }
        }
        
        document.getElementById("showStream").addEventListener("click", function(evt){
            toggleStreamButtons(evt.srcElement.classList.contains("checklistselected"));
            if (evt.srcElement.classList.contains("checklistselected")) { toggleStreamButtons("disable"); }
            socket.emit("outerNavShift", "stream.html");
        })
        document.getElementById("unmuteStream").addEventListener("click", function(evt){
            if(evt.srcElement.classList.contains("checklistselected")){
                evt.srcElement.classList.remove("checklistselected");
                evt.srcElement.style.backgroundColor = "";
                document.getElementById("innerDiv_unmuteStream_icon").innerHTML = "volume_off";
            } else{
                evt.srcElement.classList.add("checklistselected");
                evt.srcElement.style.backgroundColor = "#3679ff";
                document.getElementById("innerDiv_unmuteStream_icon").innerHTML = "volume_up";
            }
            socket.emit('unmuteStream');
        });

        document.getElementById("syncStream").addEventListener("click", function(evt){
            tapButtonAnimation(evt.srcElement);
            document.getElementById("unmuteStream").classList.remove("checklistselected");
            document.getElementById("unmuteStream").style.backgroundColor = "";
            document.getElementById("innerDiv_unmuteStream_icon").innerHTML = "volume_off";
            toggleStreamButtons("disable");
            socket.emit("reloadStream");
        });
        
        socket.on("readyStreamControls", (a) => {
            if (a.qualities.length == 0) {
                toggleStreamButtons("disable", "Offline");
                return;
            }
            qualityOptions = a.qualities;
            currentQuality = a.qualities.indexOf(a.defaultQuality);
            qOptionsMax = a.qualities.length - 1;
            toggleStreamButtons("enable");
        });

        document.getElementById("unlock").addEventListener("click", function(evt){
            if(evt.srcElement.classList.contains("turnbounceanim")){
                // UNLOCK SCREEN
                evt.srcElement.classList.remove("turnbounceanim");
                evt.srcElement.classList.add("circlebuttonselected2");
                setTimeout(function(){
                    evt.srcElement.classList.remove("circlebuttonselected2");
                }, 450);


                // now show the code
                document.getElementById("unlock").style.opacity = "0";
                setTimeout(function(){
                    document.getElementById("unlock").style.display = "none";
                    document.getElementById("enterCode").style.display = "";
                    setTimeout(function(){
                        document.getElementById("enterCode").style.opacity = "1";
                    }, 10);
                }, 600);
            }else{
                evt.srcElement.classList.add("turnbounceanim");
                setTimeout(function(){
                    evt.srcElement.classList.remove("turnbounceanim");
                }, 650);
            }
        });

        var lastNotif = undefined;
        Array.from(document.getElementsByClassName("notif")).forEach(function(element){
            element.addEventListener("click", function(evt){
                
                if(evt.srcElement.dataset.notif == "reset"){
                    

                }else{
                    if(evt.srcElement.classList.contains("checklistselected")){
                        socket.emit("notif", "cancel");
                        evt.srcElement.classList.remove("checklistselected");
                        evt.srcElement.style.backgroundColor = "";
                    }else{
    
                        Array.from(document.getElementsByClassName("notif")).forEach(function(element){
                            if(element.dataset.notif != evt.srcElement.dataset.notif){
                                element.classList.remove("checklistselected");
                                element.style.backgroundColor = "";
                            }
                        });
    
                        socket.emit("notif", evt.srcElement.dataset.notif);
                        if(lastNotif != undefined){
                            evt.srcElement.classList.remove("checklistselected");
                            evt.srcElement.style.backgroundColor = "";  
                        }
                        evt.srcElement.classList.add("checklistselected");
                        setTimeout(function(){
                            evt.srcElement.style.backgroundColor = "#3679ff";
                        }, 100);
                    }
                }
            });
        
        });

        socket.on('ip', (ip) => {
            document.getElementById("ipAddress").value = ip;
        });

        document.getElementById("setInterval").value = 120;

        setInterval(function(){
            var timeBetween = (new Date().getTime() - startTime.getTime()) / 1000;
            if(timeBetween > timeToReset){
                socket.emit("getMatches_API")
                startTime = new Date();
            }
            
        }, 500)
        
        socket.on("gitCommandOutput", (stdout) => {
            document.getElementById("gitUpdateButton").classList.remove("buttonDisabled");
            document.getElementById("gitUpdateButton").querySelector('span').innerHTML = "Pull Git";
            document.getElementById("gitUpdateButton").style.pointerEvents = "auto";
            document.getElementById("gitOutputText").innerHTML = stdout;
            showOverlay("gitOutputOverlay")
        });

        socket.on("hideNotif", (stdout) => {
            hideNotif();
        });
        
    </script>
</body>

